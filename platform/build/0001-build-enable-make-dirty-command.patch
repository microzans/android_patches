From 9b6b0195c18517443866c1e1691dc24926a8cd92 Mon Sep 17 00:00:00 2001
From: Shubhang Rathore <shubhang92@gmail.com>
Date: Sun, 17 Aug 2014 13:53:14 -0400
Subject: [PATCH] build: enable 'make dirty' command

Change-Id: Idf6810ebd425077ba85301d0124a6ba899bccc1c
---
 core/main.mk | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)
 mode change 100755 => 100644 core/main.mk

diff --git a/core/main.mk b/core/main.mk
old mode 100755
new mode 100644
index 6544742..d6bc7c3
--- a/core/main.mk
+++ b/core/main.mk
@@ -70,7 +70,7 @@ FORCE:
 
 # These goals don't need to collect and include Android.mks/CleanSpec.mks
 # in the source tree.
-dont_bother_goals := clean clobber dataclean installclean \
+dont_bother_goals := clean clobber dirty dataclean installclean \
     help out \
     snod systemimage-nodeps \
     stnod systemtarball-nodeps \
@@ -952,6 +952,14 @@ novo:
 	@rm -rf $(OUT_DIR)/target/*
 	@echo -e ${CL_GRN}"Target directory removed."${CL_RST}
 
+# Clears out zip and build.prop
+.PHONY: dirty
+dirty:
+	@rm -rf $(OUT_DIR)/target/product/*/system/build.prop
+	@rm -rf $(OUT_DIR)/target/product/*/*.zip
+	@rm -rf $(OUT_DIR)/target/product/*/*.md5sum
+	@echo "build.prop and zip files erased"
+
 # The rules for dataclean and installclean are defined in cleanbuild.mk.
 
 #xxx scrape this from ALL_MODULE_NAME_TAGS
-- 
1.9.1

